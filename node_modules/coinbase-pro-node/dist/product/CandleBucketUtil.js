"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MAXIMUM_HISTORIC_DATA_POINTS = 300;
class CandleBucketUtil {
    static expectedBuckets(fromInMillis, toInMillis, candleSizeInMillis) {
        const timeSpanInMillis = toInMillis - fromInMillis;
        return timeSpanInMillis / candleSizeInMillis;
    }
    static getBucketsInMillis(fromInMillis, toInMillis, candleSizeInMillis) {
        const buckets = [];
        const batch = MAXIMUM_HISTORIC_DATA_POINTS * candleSizeInMillis;
        let current = fromInMillis;
        while (current < toInMillis) {
            buckets.push(current);
            current = current + batch;
        }
        buckets.push(toInMillis);
        return buckets;
    }
    static getBuckets(bucketsInMillis) {
        const buckets = [];
        for (let i = 0; i < bucketsInMillis.length - 1; i++) {
            const start = new Date(bucketsInMillis[i]).toISOString();
            const stop = new Date(bucketsInMillis[i + 1]).toISOString();
            buckets.push({
                start,
                stop,
            });
        }
        return buckets;
    }
}
exports.CandleBucketUtil = CandleBucketUtil;
//# sourceMappingURL=CandleBucketUtil.js.map